<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="portal_order_page_shipping" name="Orders Shipping Followup" inherit_id="sale.quotation_content">
        <xpath expr="//div[@id='invoices']" position="after">
            <t t-if="order.picking_ids">
                <div class="row">
                    <label class="col-sm-4 col-xs-4 text-right">Delivery Orders:</label>
                    <div class="col-sm-8 col-xs-8">
                        <t t-foreach="order.picking_ids.filtered(lambda picking: picking.picking_type_id.code != 'internal')" t-as="i">
                            <t t-set="report_url" t-value="'/my/picking/pdf/%s?%s' % (i.id, keep_query())"/>
                            <div id='picking_info'>
                                <a t-att-href="report_url"><span class="fa fa-download"/></a>
                                <a t-att-href="report_url"><span t-field="i.name"/></a>
                                <span class="text-muted" t-field="i.date" t-options='{"widget": "date"}'/>
                                <t t-if="i.state == 'done'">
                                    <span class="label label-success label-text-align"><i class="fa fa-fw fa-truck"/> Shipped</span>
                                </t>
                                <t t-if="i.state == 'partially_available'">
                                    <span class="label label-warning label-text-align"><i class="fa fa-fw fa-clock-o"/> Partially Available</span>
                                </t>
                                <t t-if="i.state == 'cancel'">
                                    <span class="label label-danger label-text-align"><i class="fa fa-fw fa-times"/> Cancelled</span>
                                </t>
                                <t t-if="i.state in ['draft', 'waiting', 'confirmed', 'assigned']">
                                    <span class="label label-info label-text-align"><i class="fa fa-fw fa-clock-o"/> Preparation</span>
                                </t>
                            </div>
                        </t>
                    </div>
                </div>
            </t>
        </xpath>
  </template>

</odoo>
